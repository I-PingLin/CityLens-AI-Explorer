
<div class="min-h-screen flex flex-col items-center justify-center p-4 md:p-8">
  <!-- Header -->
  <header class="w-full max-w-2xl mb-8 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 bg-sky-500 rounded-xl flex items-center justify-center shadow-lg shadow-sky-500/20">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
      </div>
      <div>
        <h1 class="text-xl font-bold tracking-tight text-white">CityLens AI</h1>
        <p class="text-xs text-sky-400 font-medium uppercase tracking-widest">AR Tourism Engine</p>
      </div>
    </div>

    @if (appState() !== 'idle') {
      <button (click)="reset()" class="text-sm font-medium text-slate-400 hover:text-white transition-colors">
        Cancel
      </button>
    }
  </header>

  <main class="w-full max-w-4xl flex flex-col items-center">
    @if (appState() === 'idle') {
      <div class="text-center mb-12 animate-in fade-in slide-in-from-bottom-4 duration-700">
        <h2 class="text-4xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-500">
          Point. Snap. Discover.
        </h2>
        <p class="text-slate-400 max-w-md mx-auto">
          Capture any city landmark to unlock its history, architecture, and hidden stories through real-time AI analysis.
        </p>
      </div>
      
      <app-camera (photoTaken)="onPhotoCaptured($event)"></app-camera>
    }

    @if (appState() === 'analyzing') {
      <div class="flex flex-col items-center justify-center py-20 space-y-6">
        <div class="relative w-64 h-64 rounded-2xl overflow-hidden glass shadow-2xl">
          @if (currentImage()) {
            <img [src]="currentImage()" class="w-full h-full object-cover opacity-50 grayscale" alt="Analyzing">
          }
          <div class="absolute inset-0 scanner-line"></div>
        </div>
        <div class="text-center">
          <p class="text-sky-400 font-semibold animate-pulse">Analyzing Landmark...</p>
          <p class="text-slate-500 text-sm">Consulting historical archives & satellite data</p>
        </div>
      </div>
    }

    @if (appState() === 'result') {
      <app-landmark-result 
        [data]="landmarkData()" 
        [image]="currentImage()!" 
        (close)="reset()">
      </app-landmark-result>
    }

    @if (appState() === 'error') {
      <div class="glass p-8 rounded-3xl max-w-md w-full border-red-500/20 text-center space-y-4">
        <div class="w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
          </svg>
        </div>
        <h3 class="text-xl font-bold">Analysis Failed</h3>
        <p class="text-slate-400">{{ errorMessage() }}</p>
        <button (click)="reset()" class="w-full py-3 bg-white text-slate-950 font-bold rounded-xl hover:bg-slate-200 transition-colors">
          Try Again
        </button>
      </div>
    }
  </main>
</div>
